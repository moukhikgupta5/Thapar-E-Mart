<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-eMNCOe7tC1doHpGoWe/6oMVemdAVTMs2xqW4mwXrXsW0L84Iytr2wi5v2QjrP/xp" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.min.js" integrity="sha384-cn7l7gDp0eyniUwwAZgrzD06kc/tftFf19TOAs2zVinnD/C7E91j9yyk5//jjpt/" crossorigin="anonymous"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    
    
    
    <form action=get_action() id="myFormId" method="POST" enctype="multipart/form-data">
        
        <div class="mb-3">
            <label for="name" class="form-label">Name</label>
            <input type="text" class="form-control" name="name" id="name">
          </div>
          <div class="mb-3">
            <label for="price" class="form-label">Price</label>
            <input type="text" class="form-control" name="price" id="price">
          </div>
          <div class="mb-3">
            <label for="desc" class="form-label">Description</label>
            <input type="text" class="form-control" name="description" id="desc">
          </div>
          <input type="hidden" name="clientID" value="<?=$clientID;?>" />
        <input type="file" id="image_upload" name="uploadedImages" multiple>
        <button type="submit" id="submit" class="btn btn-primary">Submit</button>

        
    </form>
    <script>
        const userId = sessionStorage.getItem("userId");
        console.log(userId);
        $('#myFormId').attr('action', `/products/sell/${userId}`);
    </script>
    <script>
        $(function() {

            var // Define maximum number of files.
                max_file_number = 4,
                // Define your form id or class or just tag.
                $form = $('form'), 
                // Define your upload field class or id or tag.
                $file_upload = $('#image_upload', $form), 
                // Define your submit class or id or tag.
                $button = $('#submit', $form); 

            // Disable submit button on page ready.
            $button.prop('disabled', 'disabled');

            $file_upload.on('change', function () {
            var number_of_images = $(this)[0].files.length;
            if (number_of_images > max_file_number || number_of_images < max_file_number) {
                alert(`You have to upload ${max_file_number} images.`);
                $(this).val('');
                $button.prop('disabled', 'disabled');
            } else {
                $button.prop('disabled', false);
            }
            });
        });
     </script>
</body>
</html>

